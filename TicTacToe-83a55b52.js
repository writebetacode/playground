import{t as r,a as n,b as e,w as t,o as a,c as o,_ as i,i as c,d as l,e as u,f as s,g as f,u as d,h as v,j as y,k as b,l as h,m as w,n as p,p as g,q as j,r as x,s as A,v as P,x as m,y as W,F as I,z as q}from"./bundle-877a7bb5.js";var D=t("unscopables"),N=Array.prototype;null==N[D]&&a.f(N,D,{configurable:!0,value:o(null)});var O;function k(r){if("object"!=typeof r)return r;var n,e,t=Object.prototype.toString.call(r);if("[object Object]"===t){if(r.constructor!==Object&&"function"==typeof r.constructor)for(n in e=new r.constructor,r)e.hasOwnProperty(n)&&e[n]!==r[n]&&(e[n]=k(r[n]));else for(n in e={},r)"__proto__"===n?Object.defineProperty(e,n,{value:k(r[n]),configurable:!0,enumerable:!0,writable:!0}):e[n]=k(r[n]);return e}if("[object Array]"===t){for(n=r.length,e=Array(n);n--;)e[n]=k(r[n]);return e}return"[object Set]"===t?(e=new Set,r.forEach((function(r){e.add(k(r))})),e):"[object Map]"===t?(e=new Map,r.forEach((function(r,n){e.set(k(n),k(r))})),e):"[object Date]"===t?new Date(+r):"[object RegExp]"===t?((e=new RegExp(r.source,r.flags)).lastIndex=r.lastIndex,e):"[object DataView]"===t?new r.constructor(k(r.buffer)):"[object ArrayBuffer]"===t?r.slice(0):"Array]"===t.slice(-6)?new r.constructor(r):r}i({target:"Array",proto:!0},{fill:function(t){for(var a=r(this),o=n(a.length),i=arguments.length,c=e(i>1?arguments[1]:void 0,o),l=i>2?arguments[2]:void 0,u=void 0===l?o:e(l,o);u>c;)a[c++]=t;return a}}),O="fill",N[D][O]=!0,i({target:"Array",stat:!0},{isArray:c});var M=function(){return 0===Math.round(Math.random())?"O":"X"},_={board:{winner:"",currentPlayer:M(),rows:[Array(3).fill({player:"",isWinner:0}),Array(3).fill({player:"",isWinner:0}),Array(3).fill({player:"",isWinner:0})]}},R=v([{},{}]),E=function(r){var n,e=l(k(_)),t=u(e,2),a=t[0],o=t[1],i=[a,(n={},s(n,"store/board/click_square",(function(r,n){var e=k(a.board),t=e.rows[r][n];if(""===e.winner&&""===t.player){e.rows[r][n]=y(y({},t),{},{player:e.currentPlayer});var i=function(r,n){for(var e=function(e){var t,a=0,o=b(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,c=Math.floor(i/e.length),l=i%e.length;r[c][l].player===n&&a++}}catch(r){o.e(r)}finally{o.f()}return a===e.length},t=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[2,4,6],[0,3,6],[1,4,7],[2,5,8]],a=null,o=0,i=t;o<i.length;o++){var c=i[o];if(null!==a)return;if(e(c)){a=[];var l,u=b(c);try{for(u.s();!(l=u.n()).done;){var s=l.value;a.push({row:Math.floor(s/c.length),column:s%c.length})}}catch(r){u.e(r)}finally{u.f()}return h(a)}}if(null===a){var f,d=0,v=Math.pow(t[0].length,2),y=b(r);try{for(y.s();!(f=y.n()).done;){var w,p=f.value,g=b(p);try{for(g.s();!(w=g.n()).done;)""!==w.value.player&&d++}catch(r){g.e(r)}finally{g.f()}}}catch(r){y.e(r)}finally{y.f()}return d===v?"DRAW":null}return a}(e.rows,e.currentPlayer);if("DRAW"===i)e.winner="DRAW";else if(Array.isArray(i)){e.winner=e.currentPlayer;for(var c=0;c<i.length;c++){var l=i[c],u=l.row,s=l.column;e.rows[u][s].isWinner=1}}e.currentPlayer="X"===e.currentPlayer?"O":"X"}o({board:e})})),s(n,"store/board/reset",(function(){return o({board:y(y({},k(_.board)),{},{currentPlayer:M()})})})),n)];return f(R.Provider,{value:i,get children(){return r.children}})},S=function(){return d(R)},C=[].join,X=g!=Object,z=w("join",",");i({target:"Array",proto:!0,forced:X||!z},{join:function(r){return C.call(p(this),void 0===r?",":r)}});const B=j('<div><div class="player-text"></div><div class="replay-button"><button type="button">Play Again!</button></div></div>',8);var F=function(){var r,n,e,t=S(),a=u(t,2),o=a[0],i=a[1],c=A((function(){return""===o.board.winner?"".concat(o.board.currentPlayer,"'s move"):"DRAW"===o.board.winner?"Draw!":"".concat(o.board.winner," is the Winner!")})),l=A((function(){return["header",o.board.winner.length?"winner-found":""]})),s=function(){return i["store/board/reset"]()};return r=B.cloneNode(!0),n=r.firstChild,e=n.nextSibling.firstChild,P(n,c),m(e,"click",s,!0),W((function(){return r.className=l().join(" ")})),r};x(["click"]);const V=j("<div></div>",2),G=j('<div class="row"></div>',2),H=j('<div><span class="player"></span></div>',4);var J=function(){console.log("inside");var r=S(),n=u(r,2),e=n[0];n[1];var t,a=A((function(){return["board",""===e.board.winner?"":"winner-found"]}),e.board.winner);return t=V.cloneNode(!0),P(t,f(I,{get each(){return e.board.rows},children:function(r,n){return f(K,{row:r,yIndex:n})}})),W((function(){return t.className=a().join(" ")})),t},K=function(r){return n=G.cloneNode(!0),P(n,f(I,{get each(){return r.row},children:function(n,e){return f(L,{square:n,get yIndex(){return r.yIndex},xIndex:e})}})),n;var n},L=function(r){var n=S(),e=u(n,2);e[0];var t,a,o=e[1],i=q(r,["yIndex","xIndex"]).shift(),c=i.yIndex,l=i.xIndex,s=function(){return o["store/board/click_square"](c(),l())},f=A((function(){return["square",r.square.isWinner?"winner":""]}),r.square.isWinner);return t=H.cloneNode(!0),a=t.firstChild,m(t,"click",s,!0),P(a,(function(){return r.square.player})),W((function(){return t.className=f().join(" ")})),t};x(["click"]);const Q=j('<div class="tic-tac-toe"></div>',2);var T=function(){return f(E,{get children(){var r=Q.cloneNode(!0);return P(r,f(F,{}),null),P(r,f(J,{}),null),r}})};export default T;export{T as TicTacToe};
//# sourceMappingURL=TicTacToe-83a55b52.js.map
