{"version":3,"file":"TicTacToe-30abcfb8.js","sources":["../node_modules/core-js/internals/array-fill.js","../node_modules/core-js/internals/add-to-unscopables.js","../node_modules/klona/dist/index.mjs","../node_modules/core-js/modules/es.array.fill.js","../node_modules/core-js/modules/es.array.is-array.js","../projects/tictactoe/store/board.js","../node_modules/core-js/modules/es.array.join.js","../projects/tictactoe/components/Header/Header.jsx","../projects/tictactoe/components/Board/Board.jsx","../projects/tictactoe/components/TicTacToe/TicTacToe.jsx"],"sourcesContent":["'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","export function klona(x) {\n\tif (typeof x !== 'object') return x;\n\n\tvar k, tmp, str=Object.prototype.toString.call(x);\n\n\tif (str === '[object Object]') {\n\t\tif (x.constructor !== Object && typeof x.constructor === 'function') {\n\t\t\ttmp = new x.constructor();\n\t\t\tfor (k in x) {\n\t\t\t\tif (tmp.hasOwnProperty(k) && tmp[k] !== x[k]) {\n\t\t\t\t\ttmp[k] = klona(x[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\ttmp = {}; // null\n\t\t\tfor (k in x) {\n\t\t\t\tif (k === '__proto__') {\n\t\t\t\t\tObject.defineProperty(tmp, k, {\n\t\t\t\t\t\tvalue: klona(x[k]),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t\twritable: true,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttmp[k] = klona(x[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn tmp;\n\t}\n\n\tif (str === '[object Array]') {\n\t\tk = x.length;\n\t\tfor (tmp=Array(k); k--;) {\n\t\t\ttmp[k] = klona(x[k]);\n\t\t}\n\t\treturn tmp;\n\t}\n\n\tif (str === '[object Set]') {\n\t\ttmp = new Set;\n\t\tx.forEach(function (val) {\n\t\t\ttmp.add(klona(val));\n\t\t});\n\t\treturn tmp;\n\t}\n\n\tif (str === '[object Map]') {\n\t\ttmp = new Map;\n\t\tx.forEach(function (val, key) {\n\t\t\ttmp.set(klona(key), klona(val));\n\t\t});\n\t\treturn tmp;\n\t}\n\n\tif (str === '[object Date]') {\n\t\treturn new Date(+x);\n\t}\n\n\tif (str === '[object RegExp]') {\n\t\ttmp = new RegExp(x.source, x.flags);\n\t\ttmp.lastIndex = x.lastIndex;\n\t\treturn tmp;\n\t}\n\n\tif (str === '[object DataView]') {\n\t\treturn new x.constructor( klona(x.buffer) );\n\t}\n\n\tif (str === '[object ArrayBuffer]') {\n\t\treturn x.slice(0);\n\t}\n\n\t// ArrayBuffer.isView(x)\n\t// ~> `new` bcuz `Buffer.slice` => ref\n\tif (str.slice(-6) === 'Array]') {\n\t\treturn new x.constructor(x);\n\t}\n\n\treturn x;\n}\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.es/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","import { klona } from \"klona\";\nimport { createState, createContext, useContext } from \"solid-js\";\n\n// actions\nexport const BOARD_A_CLICK_SQUARE = \"store/board/click_square\";\nexport const BOARD_A_RESET = \"store/board/reset\";\n\n// values\nexport const BOARD_V_DRAW = \"DRAW\";\n\nconst checkForWin = (rows, player) => {\n  const isWinningCase = (winCase) => {\n    let playerSquares = 0;\n    for(const pos of winCase) {\n      const row = Math.floor(pos / winCase.length),\n            column = pos % winCase.length;\n\n      if(rows[row][column].player === player) {\n        playerSquares++\n      }\n    }\n\n    return playerSquares === winCase.length;\n  },\n\n  winCases = [\n    [0, 1, 2],// top row\n    [3, 4, 5],// middle row\n    [6, 7, 8],// bottom row\n    [0, 4, 8],// diagonal right\n    [2, 4, 6],// diagonal left\n    [0, 3, 6],// left column\n    [1, 4, 7],// middle column\n    [2, 5, 8]// right column\n  ];\n\n  let winCaseFound = null;\n  for(const winCase of winCases) {\n    if(winCaseFound !== null) {\n      return;\n    }\n\n    if(isWinningCase(winCase)) {\n      winCaseFound = [];\n      for(const pos of winCase) {\n        winCaseFound.push({\n          row: Math.floor(pos / winCase.length),\n          column: pos % winCase.length\n        });\n      }\n\n      return [...winCaseFound];\n    }\n  }\n\n  if(winCaseFound === null) {\n    let takenSquares = 0,\n        maxSquares = Math.pow(winCases[0].length, 2);\n\n    for(const row of rows) {\n      for(const square of row) {\n        if(square.player !== \"\") {\n          takenSquares++\n        }\n      }\n    }\n\n    return takenSquares === maxSquares ? BOARD_V_DRAW : null;\n  }\n\n  return winCaseFound;\n},\n\nchooseRandomPlayer = () => (Math.round(Math.random()) === 0) ? \"O\" : \"X\",\n\ndefaultState = {\n  board: {\n    winner: \"\",\n    currentPlayer: chooseRandomPlayer(),\n    rows: [\n      Array(3).fill({ player:\"\", isWinner: 0 }),\n      Array(3).fill({ player:\"\", isWinner: 0 }),\n      Array(3).fill({ player:\"\", isWinner: 0 })\n    ]\n  }\n};\n\nconst BoardContext = createContext([{}, {}]);\n\nexport const BoardProvider = props => {\n  const [state, setState] = createState(klona(defaultState)),\n    store = [\n      state,\n      {\n        [BOARD_A_CLICK_SQUARE]: (yIndex, xIndex) => {\n          let board = klona(state.board),\n            square = board.rows[yIndex][xIndex];\n\n          if (board.winner === \"\" && square.player === \"\") {\n            board.rows[yIndex][xIndex] = {\n              ...square,\n              player: board.currentPlayer\n            };\n\n            let winCaseFound = checkForWin(board.rows, board.currentPlayer);\n            if (winCaseFound === BOARD_V_DRAW) {\n              board.winner = BOARD_V_DRAW;\n            } else if (Array.isArray(winCaseFound)) {\n              board.winner = board.currentPlayer;\n\n\n\n              for (let i = 0; i < winCaseFound.length; i++) {\n                const { row, column } = winCaseFound[i];\n                board.rows[row][column].isWinner = 1;\n              }\n            }\n\n            board.currentPlayer = board.currentPlayer === \"X\" ? \"O\" : \"X\";\n          }\n\n          setState({ board });\n        },\n\n        [BOARD_A_RESET]: () => setState({\n          board: {\n            ...klona(defaultState.board),\n            currentPlayer: chooseRandomPlayer()\n          }\n        })\n      }\n    ];\n\n  return (\n    <BoardContext.Provider value={store}>\n      {props.children}\n    </BoardContext.Provider>\n  );\n};\n\nexport const useBoard = () => useContext(BoardContext);\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import { createMemo } from \"solid-js\";\nimport { BOARD_V_DRAW, BOARD_A_RESET, useBoard } from \"../../store/board\";\nimport \"./Header.css\";\n\nexport const Header = () => {\n  const [state, methods] = useBoard(),\n    playerText = createMemo(() => {\n      if (state.board.winner === \"\") {\n        return `${state.board.currentPlayer}'s move`;\n      }\n\n      if (state.board.winner === BOARD_V_DRAW) {\n        return \"Draw!\";\n      }\n\n      return `${state.board.winner} is the Winner!`;\n    }),\n    headerClasses = createMemo(() => [\n      \"header\",\n      state.board.winner.length ? \"winner-found\" : \"\",\n    ]),\n    resetBoard = () => methods[BOARD_A_RESET]();\n\n  return (\n    <div class={headerClasses().join(\" \")}>\n      <div class=\"player-text\">\n        {playerText()}\n      </div>\n      <div class=\"replay-button\">\n        <button type=\"button\" onClick={resetBoard}>Play Again!</button>\n      </div>\n    </div>\n  );\n}\n","import { createMemo, splitProps } from \"solid-js\";\nimport { BOARD_A_CLICK_SQUARE, useBoard } from \"../../store/board\";\nimport './Board.css';\n\nexport const Board = () => {\n  console.log('inside');\n  const [state, _] = useBoard(),\n  classes = createMemo(() => [\n    \"board\",\n    state.board.winner === \"\" ? \"\" : \"winner-found\"\n  ], state.board.winner);\n\n  return (\n    <div class={classes().join(\" \")}>\n      <For each={state.board.rows}>{(row, yIndex) =>\n        <Row row={row} yIndex={yIndex} />\n      }</For>\n    </div>\n  );\n}\n\nconst Row = (props) => {\n  return (\n    <div class=\"row\">\n      <For each={props.row}>{(square, xIndex) =>\n        <Square square={square} yIndex={props.yIndex} xIndex={xIndex} />\n      }</For>\n    </div>\n  )\n}\n\nconst Square = (props) => {\n  const [_, methods] = useBoard(),\n    {yIndex, xIndex} = splitProps(props, [\"yIndex\", \"xIndex\"]).shift(),\n    clickSquare = () => methods[BOARD_A_CLICK_SQUARE](yIndex(), xIndex()),\n    classes = createMemo(() => [\n      \"square\",\n      props.square.isWinner ? \"winner\" : \"\",\n    ], props.square.isWinner);\n\n  return (\n    <div class={classes().join(\" \")} onClick={clickSquare}>\n      <span class=\"player\">\n        {props.square.player}\n      </span>\n    </div>\n  );\n}\n","import { BoardProvider } from \"../../store/board\";\nimport { Header } from \"../Header/Header\";\nimport { Board } from \"../Board/Board\";\nimport \"./TicTacToe.css\";\n\n\nexport const TicTacToe = () => {\n  return (\n    <BoardProvider >\n      <div class=\"tic-tac-toe\">\n        <Header />\n        <Board />\n      </div>\n    </BoardProvider>\n  );\n}\n\nexport default TicTacToe;\n"],"names":["UNSCOPABLES","wellKnownSymbol","ArrayPrototype","Array","prototype","undefined","definePropertyModule","f","configurable","value","create","key","klona","x","k","tmp","str","Object","toString","call","constructor","hasOwnProperty","defineProperty","enumerable","writable","length","Set","forEach","val","add","Map","set","Date","RegExp","source","flags","lastIndex","buffer","slice","$","target","proto","fill","O","toObject","this","toLength","argumentsLength","arguments","index","toAbsoluteIndex","end","endPos","stat","isArray","chooseRandomPlayer","Math","round","random","defaultState","board","winner","currentPlayer","rows","player","isWinner","BoardContext","createContext","BoardProvider","props","createState","state","setState","store","yIndex","xIndex","square","winCaseFound","isWinningCase","winCase","playerSquares","pos","row","floor","column","winCases","push","takenSquares","maxSquares","pow","checkForWin","i","children","useBoard","useContext","nativeJoin","join","ES3_STRINGS","IndexedObject","STRICT_METHOD","arrayMethodIsStrict","forced","separator","toIndexedObject","Header","methods","playerText","createMemo","headerClasses","resetBoard","Board","console","log","classes","Row","Square","splitProps","shift","clickSquare","TicTacToe"],"mappings":"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"}